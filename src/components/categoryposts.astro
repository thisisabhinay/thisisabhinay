---
import PostTile from "@components/posttile.astro";
import { latestPosts } from "@utils/content";

const { class: className, category } = Astro.props;

const postsList = latestPosts
  ?.slice(1)
  ?.filter((post: any) => post?.data?.category === category?.slug)
  ?.slice(0, 3);
---

{
  postsList?.length ? (
    <>
      <section
        class:list={["flex items-center justify-between mt-14", className]}>
        <h1 class="text-sm uppercase tracking-widest font-medium text-gray-500 dark:text-white">
          {category?.title}
        </h1>
        <a
          href={`/category/${category?.slug}`}
          class="px-5 py-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-blue-500">
          See All
        </a>
      </section>
      <div class="grid gap-10 mt-5 lg:gap-10 md:grid-cols-2 xl:grid-cols-3">
        {postsList?.map((post) => (
          <PostTile post={post} aspect="square" />
        ))}
      </div>
    </>
  ) : null
}
